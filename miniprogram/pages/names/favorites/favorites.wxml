<view class="container">
  <!-- Loading State -->
  <view class="loading-container" wx:if="{{loading}}">
    <view class="loading-spinner"></view>
    <text class="loading-text">ÙŠÛˆÙƒÙ„Ù‰Ù†Ù‰Û‹Ø§ØªÙ‰Ø¯Û‡...</text>
  </view>

  <block wx:else>
    <!-- Header -->
    <view class="header favorites-header">
      <view class="header-title">
        <text class="title-text">Ø³Ø§Ù‚Ù„Ù‰Û‹Ø§Ù„ØºØ§Ù†Ù„Ù‰Ø±Ù‰Ù…</text>
        <text class="subtitle-text">Ø¬Û•Ù…Ø¦Ù‰ÙŠ {{favoriteNames.length}} Ø¦Ù‰Ø³Ù‰Ù…</text>
      </view>
      <view class="header-actions" wx:if="{{favoriteNames.length > 0}}">
        <view class="action-button" bindtap="toggleSortOrder">
          <text class="action-icon">{{sortOrder === 'time' ? 'âŒš' : 'Ø¦Ø§'}}</text>
          <text class="action-text">{{sortOrder === 'time' ? 'Û‹Ø§Ù‚Ù‰Øª Ø¨ÙˆÙŠÙ‰Ú†Û•' : 'Ø¦ÛÙ„Ù‰Ù¾Ø¨Û• Ø¨ÙˆÙŠÙ‰Ú†Û•'}}</text>
        </view>
        <view class="action-button" bindtap="toggleGenderFilter">
          <text class="action-icon">{{genderFilter === 'all' ? 'ğŸ‘¥' : (genderFilter === 'male' ? 'â™‚' : 'â™€')}}</text>
          <text class="action-text">{{genderFilter === 'all' ? 'Ø¨Ø§Ø±Ù„Ù‰Ù‚' : (genderFilter === 'male' ? 'Ø¦ÙˆØºÛ‡Ù„' : 'Ù‚Ù‰Ø²')}}</text>
        </view>
      </view>
    </view>

    <!-- Names Section -->
    <view class="names-container">
      <view class="name-card" 
            wx:for="{{displayNames}}" 
            wx:key="_id"
            bindtap="navigateToDetail"
            data-id="{{item._id}}">
        <view class="name-content">
          <view class="avatar-container {{gender}}-avatar">
            <image class="avatar" src="/images/illust/{{gender}}.png" mode="aspectFit" />
          </view>
          <view class="name-details">
            <view class="name-title">{{item.nameUyghur}}</view>
            <view class="name-subtitle">{{item.nameLatin}} {{item.nameChinese}}</view>
          </view>
          <view class="dot-menu">
            <view class="dot"></view>
            <view class="dot"></view>
            <view class="dot"></view>
          </view>
        </view>
        <view class="name-options">
          <text class="name-meaning">{{item.meaning}}</text>
          <text class="save-time">{{item.saveTimeText}}</text>
        </view>
      </view>
    </view>

    <!-- No Favorites Message -->
    <view class="no-favorites" wx:if="{{favoriteNames.length === 0}}">
      <view class="no-favorites-icon">â¤ï¸</view>
      <text class="no-favorites-title">Ú¾Ø§Ø²Ù‰Ø±Ú†Û• Ú¾ÛÚ†Ù‚Ø§Ù†Ø¯Ø§Ù‚ Ø¦Ù‰Ø³Ù‰Ù… Ø³Ø§Ù‚Ù„Ø§Ù†Ù…Ù‰Ø¯Ù‰</text>
      <text class="no-favorites-text">Ø¦Ù‰Ø³Ù‰Ù…Ù„Û•Ø±Ù†Ù‰ Ø³Ø§Ù‚Ù„Ø§Ø´ Ø¦ÛˆÚ†ÛˆÙ† ÙŠÛˆØ±Û•Ùƒ Ø¨Û•Ù„Ú¯Ù‰Ø³Ù‰Ù†Ù‰ Ø¨ÛØ³Ù‰Ú­</text>
      <view class="start-button" bindtap="navigateToSearch">
        <text class="button-text">Ø¦Ù‰Ø³Ù‰Ù… Ø¦Ù‰Ø²Ø¯Û•Ø´</text>
        <text class="button-icon">â†’</text>
      </view>
    </view>
  </block>
</view> 